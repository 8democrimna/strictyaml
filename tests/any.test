{% for ruamel_version in ruamel_versions %}
{% for python_version in python_versions %}
- name: Non-schema validation
  description: |
    When using strictyaml you do not have to specify a schema. If
    you do this, the validator "Any" is used which will accept any
    mapping and any list and any value (which will always be interpreted
    as a string).
    
    This is recommended when rapidly prototyping and the schema is
    still fluid. When your prototype code is parsing YAML
    that has a more fixed structure, we recommend that you lock it
    down with a schema.
    
    The Any validator can be used inside fixed structures as well.
  preconditions:
    python_version: {{ python_version }}
    ruamel version: {{ ruamel_version }}
    files:
      valid_sequence.yaml: |
        a:
          x: 9
          y: 8
        b: 2
        c: 3
  tags:
    - nested
    - map
    - py{{ python_version }}
  scenario:
    - Run command: |
        from strictyaml import Any, MapPattern, YAMLValidationError, load

    - Assert True: |
        load(valid_sequence) == {"a": {"x": "9", "y": "8"}, "b": "2", "c": "3"}

    - Assert True: |
        load(valid_sequence, Any()) == {"a": {"x": "9", "y": "8"}, "b": "2", "c": "3"}
    
    - Assert True: |
        load(valid_sequence, MapPattern(Any(), Any())) == {"a": {"x": "9", "y": "8"}, "b": "2", "c": "3"}
{% endfor %}
{% endfor %}
